{% load staticfiles %}
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>ajax-get</title>
        <link href=" {% static 'css/bootstrap.min.css' %} " rel="stylesheet">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script type="text/JavaScript">
            $(document).ready(function() {
                $("form").submit( function() {
                    $.ajax({
                        type: "GET",
                        url: 'py/get_report/',
                        data: {
                            name: $('#name').val()
                        },
                        success: function(data) {
                            // alert(data);
                            $("#myname").html(data);
                        },
                        error: function() {
                            alert('Ajax request 發生錯誤');
                        }
                    });
                    return false;
                });
            });
        </script>
    </head>
    <body>
        <div class="container">
            <form action="" data-ajax="false">
                <input type="text" name="name" id="name" value="">
                <input type="submit" class="btn btn-primary" value="送出">
            </form>
            <div id="myname"></div>
        </div>
    </body>
</html>